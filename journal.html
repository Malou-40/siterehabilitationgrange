<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Journal de Chantier - R√©habilitation de Grange</title>

  <!-- SEO Meta Tags -->
  <meta name="description" content="D√©couvrez l'avancement du chantier de la r√©habilitation de notre grange en maison, avec des photos avant/apr√®s et des r√©cits d√©taill√©s jour par jour.">
  <meta name="keywords" content="r√©habilitation, grange, chantier, r√©novation, travaux, journal, transformation habitation">
  <meta name="author" content="Malou-40">
  <meta name="robots" content="index, follow">

  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="Journal de Chantier - R√©habilitation de Grange">
  <meta property="og:description" content="Suivez l'√©volution de la r√©habilitation d'une grange en maison avec des √©tapes d√©taill√©es et des photos avant/apr√®s.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://malou-40.github.io/siterehabilitationgrange/journal.html">
  <meta property="og:image" content="https://malou-40.github.io/siterehabilitationgrange/images/apres1.jpg">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="favicon.png">

  <link rel="stylesheet" href="style.css" />

  <!-- OneSignal Push Notifications -->
  <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
  <script>
    window.OneSignalDeferred = window.OneSignalDeferred || [];
    OneSignalDeferred.push(async function(OneSignal) {
      await OneSignal.init({
        appId: "8e747613-7738-4803-b0d6-4a93750c7a6e"
      });
    });
  </script>
</head>
<body>
  <header>
    <h1>Journal de Chantier</h1>
    <nav>
      <ul class="menu">
        <li><a href="index.html">Accueil</a></li>
        <li><a href="photos.html">Avant / Apr√®s</a></li>
        <li><a href="journal.html">Journal</a></li>
        <li><a href="cagnotte.html">Cagnotte</a></li>
      </ul>
    </nav>
  </header>

  <section class="presentation">
    <h2>Suivi des travaux</h2>
    <p>Cette page permettra d'avoir un suivi r√©gulier de l'√©volution du chantier de la grange, √† travers des r√©cits et des photos d'√©tapes cl√©s.</p>
  </section>

  <section class="abonnement">
    <h2>üîî Restez inform√© des nouvelles √©tapes !</h2>
    <p>Recevez une notification d√®s qu‚Äôun nouvel article du journal est publi√©.</p>
    <button id="subscribe-btn">S‚Äôabonner aux notifications</button>
    <p id="confirmation-message" style="display: none; color: green; margin-top: 1rem; font-weight: bold;">
      ‚úÖ Merci, vous √™tes bien inscrit(e) aux notifications !
    </p>
  </section>

  <section class="journal">
    <article>
      <h3>24 avril 2025 ‚Äì Renforcement de la toiture avec des bastaings : entre th√©orie et r√©alit√©</h3>
      <p>Pour consolider une poutre fragilis√©e par l‚Äôhumidit√© et les infiltrations, nous avons d√ª relever la toiture existante √† l‚Äôaide d‚Äôun cric. La poutre d‚Äôorigine, ab√Æm√©e par le temps et l‚Äôeau, mena√ßait la stabilit√© de la structure. Avec mon p√®re, nous avons install√© des bastaings pour assurer un bon renfort.
      On pensait que ce serait simple‚Ä¶ mais en r√©alit√©, √ßa nous a pris 3 heures : la mise en pratique s‚Äôest r√©v√©l√©e bien diff√©rente de ce qu‚Äôon avait imagin√© en th√©orie !</p>
      <img src="avant.jpg" alt="Photo avant renforcement de la toiture" class="lightbox-trigger" data-full="20250424_105553.jpg" />
      <img src="apr√®s.jpg" alt="Photo apr√®s pose des bastaings pour la toiture" class="lightbox-trigger" data-full="20250424_131625.jpg" />
    </article>

    <article>
      <h3>25 avril 2025 ‚Äì Installation des planches de rive et pr√©paration pour la pose de la goutti√®re</h3>
      <p>Apr√®s avoir install√© les planches de rive pour habiller et prot√©ger les extr√©mit√©s de la toiture, nous avons coup√© les anciens poteaux qui d√©passaient et g√™naient. Cette √©tape √©tait indispensable pour pr√©parer correctement l'installation de la future goutti√®re, qui viendra bient√¥t en place pour assurer une bonne √©vacuation des eaux de pluie.</p>
      <img src="20250425_152023-redimensionner.jpg" alt="Planches de rive en cours d'installation" class="lightbox-trigger" data-full="20250425_152023.jpg" />
      <img src="20250427_134944-redimensionner.jpg" alt="Fin de la pr√©paration pour pose de la goutti√®re" class="lightbox-trigger" data-full="20250427_134944.jpg" />
    </article>

    <article>
      <h3>29 avril 2025 ‚Äì Pose de la goutti√®re : installation r√©ussie avec contr√¥le de la pente</h3>
      <p>Apr√®s avoir pr√©par√© les planches de rive et d√©gag√© les anciens poteaux de toiture, nous avons poursuivi notre chantier avec la pose de la goutti√®re.
Pour garantir un bon √©coulement de l'eau de pluie, nous avons install√© la goutti√®re en respectant une pente d'environ 7%, conform√©ment aux recommandations pour une √©vacuation efficace.

La mise en place a n√©cessit√© plusieurs ajustements pour assurer une pente r√©guli√®re sur toute la longueur. Nous avons pris soin de fixer les crochets en suivant une l√©g√®re inclinaison, en contr√¥lant r√©guli√®rement √† l‚Äôaide d‚Äôun cordeau tendu.

Une fois la goutti√®re compl√®tement fix√©e, nous avons proc√©d√© √† des tests avec de l‚Äôeau : nous avons vers√© un pichet pour simuler de la pluie. R√©sultat : l‚Äôeau s‚Äô√©coule parfaitement, sans stagnation ni d√©bordement !

En compl√©ment, pour optimiser l‚Äô√©coulement en attendant la prochaine r√©fection compl√®te de la toiture, nous avons d√©coup√© de petits morceaux de tuiles. Cela permet de guider correctement l‚Äôeau jusqu‚Äô√† la goutti√®re, m√™me avec la toiture actuelle, et d‚Äô√©viter toute infiltration ind√©sirable sur la structure.</p>
      <img src="20250429_115935-redimensionner.jpg" alt="Planches de rive en cours d'installation" class="lightbox-trigger" data-full="20250429_115935.jpg" />
      <img src="20250429_175706-redimensionner.jpg" alt="Planches de rive en cours d'installation" class="lightbox-trigger" data-full="20250429_175706.jpg" />
    </article>

    <article>
      <h3>30 avril 2025 ‚Äì Pose de la toiture avant et raccordement des goutti√®res.</h3>
      <p>Nous avons termin√© la pose de la toiture sur la fa√ßade avant de la grange, ce qui change compl√®tement l‚Äôapparence du b√¢timent.
Nous en avons profit√© pour relier les deux goutti√®res lat√©rales √† une seule descente, afin de simplifier l‚Äô√©vacuation de l‚Äôeau de pluie.

Comme souvent, il a fallu s‚Äôadapter : les poutres de soutien, mal ajust√©es lors de l‚Äôancienne pose de panneaux solaires, nous emp√™chaient d‚Äôinstaller correctement les planches de rive.
On a donc d√ª retailler proprement les extr√©mit√©s pour pouvoir finir le travail proprement.

Encore une belle √©tape de franchie dans ce chantier qui avance pas √† pas !</p>
      <img src="20250430_103321-redimensionner.jpg" alt="Planches de rive en cours d'installation" class="lightbox-trigger" data-full="20250430_103321.jpg" />
      <img src="20250430_181257-redimensionner.jpg" alt="Fin de la pr√©paration pour pose de la goutti√®re" class="lightbox-trigger" data-full="20250430_181257.jpg" />
    </article>
  </section>

  <footer>
    <p>&copy; 2025 - R√©habilitation de la Grange</p>
  </footer>

  <!-- GSAP + Script animation -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  <script>
    gsap.registerPlugin(ScrollTrigger);

    gsap.from("header h1", {
      y: -50,
      opacity: 0,
      duration: 1,
      ease: "power3.out"
    });

    gsap.utils.toArray("section, article").forEach(element => {
      gsap.from(element, {
        scrollTrigger: {
          trigger: element,
          start: "top 85%",
          toggleActions: "play none none none"
        },
        y: 50,
        opacity: 0,
        duration: 1,
        ease: "power2.out"
      });
    });
  </script>

  <!-- Lightbox HTML -->
  <div class="lightbox-overlay" id="lightbox">
    <img src="" alt="Agrandissement d'une photo du journal de chantier" />
  </div>

  <!-- Script Lightbox -->
  <script>
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = lightbox.querySelector('img');

    document.querySelectorAll('.lightbox-trigger').forEach(img => {
      img.addEventListener('click', () => {
        const fullImg = img.dataset.full;
        lightboxImg.src = fullImg;
        lightbox.style.display = 'flex';
      });
    });

    lightbox.addEventListener('click', () => {
      lightbox.style.display = 'none';
      lightboxImg.src = '';
    });
  </script>

<!-- Script abonnement OneSignal avec confirmation (corrig√© pour v16) -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const subscribeBtn = document.getElementById('subscribe-btn');
    const confirmationMessage = document.getElementById('confirmation-message');

    if (subscribeBtn) {
      subscribeBtn.addEventListener('click', () => {
        if (
          window.OneSignal &&
          OneSignal.Notifications &&
          typeof OneSignal.Notifications.showSlidedownPrompt === 'function'
        ) {
          OneSignal.Notifications.showSlidedownPrompt()
            .then(() => {
              if (confirmationMessage) {
                confirmationMessage.style.display = 'block';
              }
            })
            .catch((err) => {
              console.error("Erreur lors de l'abonnement OneSignal :", err);
              alert("Une erreur est survenue. Veuillez r√©essayer plus tard.");
            });
        } else {
          alert("Le syst√®me de notifications n'est pas encore pr√™t. Merci de r√©essayer dans quelques instants.");
        }
      });
    }
  });
</script>

</body>
</html>
